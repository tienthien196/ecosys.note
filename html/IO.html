<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Devices IO Driver: Hướng dẫn toàn diện</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --bg-primary: #f8f9fa;
      --bg-secondary: #e9ecef;
      --text-primary: #212529;
      --text-secondary: #495057;
      --accent: #0d6efd;
      --border: #dee2e6;
      --card-bg: #ffffff;
      --sidebar-bg: #343a40;
      --sidebar-text: #ffffff;
      --shadow: rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    [data-theme="dark"] {
      --bg-primary: #121212;
      --bg-secondary: #1e1e1e;
      --text-primary: #e0e0e0;
      --text-secondary: #aaaaaa;
      --accent: #4dabf7;
      --border: #333333;
      --card-bg: #1f1f1f;
      --sidebar-bg: #1a1a1a;
      --sidebar-text: #e0e0e0;
      --shadow: rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.7;
      transition: var(--transition);
      padding: 0;
      margin: 0;
    }

    header {
      background: linear-gradient(135deg, var(--accent), #6698ff);
      color: white;
      padding: 2rem 0;
      text-align: center;
      box-shadow: 0 4px 12px var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      animation: fadeInDown 1s ease;
    }

    header p {
      font-size: 1.1rem;
      opacity: 0.9;
      max-width: 800px;
      margin: 0 auto;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background-color: var(--sidebar-bg);
      color: var(--sidebar-text);
      padding: 2rem 1rem;
      position: sticky;
      top: 0;
      height: 100vh;
      overflow-y: auto;
      transition: var(--transition);
    }

    .sidebar h3 {
      margin-bottom: 1.5rem;
      font-size: 1.3rem;
      border-bottom: 2px solid var(--accent);
      padding-bottom: 0.5rem;
    }

    .sidebar ul {
      list-style: none;
    }

    .sidebar ul li {
      margin: 0.8rem 0;
    }

    .sidebar a {
      color: var(--sidebar-text);
      text-decoration: none;
      font-size: 0.95rem;
      display: block;
      padding: 0.5rem 0.8rem;
      border-radius: 8px;
      transition: var(--transition);
    }

    .sidebar a:hover {
      background-color: var(--accent);
      color: white;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 2rem;
      max-width: 900px;
      margin: 0 auto;
    }

    .main-content h2 {
      margin: 2.5rem 0 1rem 0;
      color: var(--accent);
      font-size: 1.8rem;
      border-left: 5px solid var(--accent);
      padding-left: 1rem;
      animation: slideInLeft 0.6s ease;
    }

    .main-content h3 {
      margin: 2rem 0 1rem;
      color: var(--text-primary);
      font-size: 1.4rem;
    }

    .main-content p, .main-content ul, .main-content ol {
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    .main-content blockquote {
      background-color: var(--bg-secondary);
      border-left: 5px solid var(--accent);
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      font-style: italic;
      color: var(--text-secondary);
      border-radius: 0 8px 8px 0;
      box-shadow: 0 2px 6px var(--shadow);
    }

    .card {
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
      box-shadow: 0 4px 12px var(--shadow);
      border: 1px solid var(--border);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px var(--shadow);
    }

    .checklist {
      list-style: none;
    }

    .checklist li {
      margin: 0.8rem 0;
      position: relative;
      padding-left: 1.8rem;
    }

    .checklist li::before {
      content: "☐";
      position: absolute;
      left: 0;
      color: var(--accent);
      font-weight: bold;
    }

    .checklist li.checked::before {
      content: "✔";
      color: #28a745;
    }

    .tools-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .tool-tag {
      background: var(--bg-secondary);
      color: var(--text-secondary);
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .tool-tag:hover {
      background: var(--accent);
      color: white;
    }

    footer {
      text-align: center;
      padding: 2rem;
      margin-top: 2rem;
      color: var(--text-secondary);
      font-size: 0.9rem;
      border-top: 1px solid var(--border);
    }

    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--accent);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 10px var(--shadow);
      z-index: 100;
      transition: var(--transition);
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    /* Animations */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        height: auto;
        padding: 1rem;
      }
      .main-content {
        padding: 1.5rem;
      }
      header h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body data-theme="light">
  <header>
    <h1><i class="fas fa-microchip"></i> Devices IO Driver</h1>
    <p>Một hướng dẫn toàn diện từ cơ bản đến nâng cao – dành cho người mới và chuyên gia</p>
  </header>

  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h3><i class="fas fa-book"></i> Mục Lục</h3>
      <ul>
        <li><a href="#gioi-thieu">Giới thiệu</a></li>
        <li><a href="#thanh-phan">Thành phần & Cơ chế</a></li>
        <li><a href="#loai-driver">Các loại Driver</a></li>
        <li><a href="#quy-trinh">Quy trình phát triển</a></li>
        <li><a href="#checklist">Checklist học tập</a></li>
        <li><a href="#cong-cu">Công cụ đề xuất</a></li>
        <li><a href="#kinh-nghiem">Kinh nghiệm thực hành</a></li>
        <li><a href="#tai-lieu">Tài liệu tham khảo</a></li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <section id="gioi-thieu">
        <h2><i class="fas fa-info-circle"></i> Giới thiệu về Devices IO Driver</h2>
        <p>Trình điều khiển thiết bị (Devices IO Driver) là phần mềm hệ thống cho phép hệ điều hành giao tiếp với các thiết bị phần cứng như ổ cứng, GPU, bàn phím, hoặc thiết bị USB. Driver đóng vai trò trung gian, chuyển đổi các lệnh cấp cao từ hệ điều hành thành tín hiệu phần cứng có thể hiểu được.</p>

        <div class="card">
          <h3>Mục đích chính</h3>
          <ul>
            <li>Cung cấp giao diện chuẩn để hệ điều hành và ứng dụng tương tác với phần cứng.</li>
            <li>Quản lý các tác vụ I/O như đọc/ghi dữ liệu, xử lý ngắt (interrupts).</li>
            <li>Tối ưu hóa hiệu suất và đảm bảo tính ổn định của hệ thống.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Ứng dụng thực tế</h3>
          <ul>
            <li><strong>Driver GPU</strong>: NVIDIA CUDA cho xử lý đồ họa và tính toán.</li>
            <li><strong>Driver USB</strong>: Kết nối bàn phím, chuột, ổ USB.</li>
            <li><strong>Driver mạng</strong>: Kết nối Ethernet hoặc Wi-Fi.</li>
          </ul>
        </div>
      </section>

      <section id="thanh-phan">
        <h2><i class="fas fa-cogs"></i> Các thành phần và cơ chế hoạt động</h2>

        <h3>Kernel Mode vs User Mode Drivers</h3>
        <div class="card">
          <p><strong>Kernel Mode Drivers</strong>: Chạy trong không gian nhân, hiệu suất cao nhưng rủi ro crash hệ thống.</p>
          <p><strong>User Mode Drivers</strong>: An toàn hơn, dễ phát triển, nhưng hiệu suất thấp hơn.</p>
        </div>

        <h3>Interrupts</h3>
        <p>Ngắt là tín hiệu từ thiết bị yêu cầu CPU xử lý ngay. Driver đăng ký <em>Interrupt Service Routine (ISR)</em> để phản hồi.</p>

        <h3>Direct Memory Access (DMA)</h3>
        <p>DMA cho phép thiết bị truy cập bộ nhớ trực tiếp, giảm tải CPU – rất quan trọng trong SSD NVMe, GPU.</p>

        <h3>Device Controller</h3>
        <p>Là phần cứng trung gian giữa driver và thiết bị, ví dụ: USB Controller, SATA Controller.</p>
      </section>

      <section id="loai-driver">
        <h2><i class="fas fa-plug"></i> Các loại trình điều khiển thiết bị</h2>

        <div class="card">
          <h3>Block Device Drivers</h3>
          <p>Quản lý thiết bị lưu trữ khối (ổ cứng, SSD). Đọc/ghi theo khối dữ liệu.</p>
          <p><em>Ví dụ: Driver NVMe trên Linux.</em></p>
        </div>

        <div class="card">
          <h3>Character Device Drivers</h3>
          <p>Xử lý dữ liệu dạng luồng như bàn phím, chuột, cổng serial.</p>
          <p><em>Ví dụ: /dev/ttyS0 trên Linux.</em></p>
        </div>

        <div class="card">
          <h3>Network Device Drivers</h3>
          <p>Quản lý card mạng, xử lý gói tin Ethernet/Wi-Fi.</p>
          <p><em>Ví dụ: Driver Intel I219-V.</em></p>
        </div>

        <div class="card">
          <h3>USB Drivers</h3>
          <p>Hỗ trợ hot-plug và nhiều lớp giao thức USB.</p>
          <p><em>Ví dụ: USB HID cho chuột/bàn phím.</em></p>
        </div>
      </section>

      <section id="quy-trinh">
        <h2><i class="fas fa-project-diagram"></i> Quy trình phát triển trình điều khiển</h2>

        <h3>1. Thiết kế và lập kế hoạch</h3>
        <p>Đọc datasheet, chọn hệ điều hành mục tiêu (Linux/Windows), xác định loại driver.</p>

        <h3>2. Viết và tích hợp driver</h3>
        <p>Sử dụng WDK (Windows) hoặc Linux Kernel Module API. Đăng ký với kernel.</p>

        <h3>3. Kiểm thử và gỡ lỗi</h3>
        <p>Dùng GDB, WinDbg, QEMU để mô phỏng và phát hiện lỗi.</p>
      </section>

      <section id="checklist">
        <h2><i class="fas fa-check-square"></i> Checklist học tập và nghiên cứu</h2>
        <ul class="checklist">
          <li class="checked">Hiểu rõ vai trò của driver</li>
          <li class="checked">Nắm vững interrupts và DMA</li>
          <li>Nắm các loại driver: Block, Character, Network, USB</li>
          <li>Nghiên cứu viết kernel module Linux</li>
          <li>Thực hành với Windows Driver Kit (WDK)</li>
          <li>Đọc sách <em>Linux Device Drivers</em></li>
          <li>Gỡ lỗi bằng GDB/WinDbg</li>
          <li>Viết driver cho Raspberry Pi</li>
          <li>Nghiên cứu giao thức USB</li>
          <li>Sử dụng QEMU để mô phỏng</li>
        </ul>
      </section>

      <section id="cong-cu">
        <h2><i class="fas fa-wrench"></i> Công cụ đề xuất</h2>
        <div class="tools-list">
          <span class="tool-tag">Linux Kernel Module</span>
          <span class="tool-tag">Windows Driver Kit (WDK)</span>
          <span class="tool-tag">QEMU</span>
          <span class="tool-tag">GDB</span>
          <span class="tool-tag">WinDbg</span>
          <span class="tool-tag">Device Tree Compiler</span>
          <span class="tool-tag">USBlyzer</span>
          <span class="tool-tag">Raspberry Pi</span>
        </div>
      </section>

      <section id="kinh-nghiem">
        <h2><i class="fas fa-flask"></i> Kinh nghiệm thực hành</h2>
        <ol>
          <li><strong>Viết kernel module đơn giản</strong>: In log ra dmesg trên Linux.</li>
          <li><strong>GPIO Driver</strong>: Điều khiển LED qua Raspberry Pi.</li>
          <li><strong>Gỡ lỗi driver</strong>: Dùng GDB hoặc WinDbg phân tích crash dump.</li>
          <li><strong>USB Driver</strong>: Viết driver cho thiết bị USB LED.</li>
          <li><strong>Dự án thực tế</strong>: Driver cảm biến nhiệt độ hoặc Ethernet.</li>
        </ol>
      </section>

      <section id="tai-lieu">
        <h2><i class="fas fa-book-open"></i> Tài liệu tham khảo</h2>
        <div class="card">
          <h3>📚 Sách</h3>
          <ul>
            <li><em>Linux Device Drivers</em> – Corbet, Rubini, Kroah-Hartman</li>
            <li><em>Windows Internals</em> – Russinovich & Solomon</li>
            <li><em>Embedded Linux Primer</em> – Hallinan</li>
          </ul>
        </div>

        <div class="card">
          <h3>🌐 Website</h3>
          <ul>
            <li><a href="https://www.kernel.org/doc/html/latest/" target="_blank">Linux Kernel Documentation</a></li>
            <li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/" target="_blank">Microsoft Windows Drivers</a></li>
            <li><a href="https://www.freertos.org/" target="_blank">FreeRTOS Documentation</a></li>
          </ul>
        </div>

        <div class="card">
          <h3>🎓 Khóa học</h3>
          <ul>
            <li>Udemy: Linux Kernel Module Programming</li>
            <li>Coursera: Embedded Systems & IoT</li>
          </ul>
        </div>
      </section>

      <blockquote>
        <p><strong>Lưu ý:</strong> Tài liệu này sẽ được cập nhật liên tục để bổ sung các khái niệm mới, công cụ, và kinh nghiệm thực tế. Nếu bạn có đề xuất hoặc cần thêm chi tiết, hãy liên hệ với <strong>@author</strong>!</p>
      </blockquote>
    </main>
  </div>

  <!-- Theme Toggle Button -->
  <div class="theme-toggle" id="themeToggle">
    <i class="fas fa-moon"></i>
  </div>

  <footer>
    &copy; 2025 Devices IO Driver Guide | Được xây dựng dành cho cộng đồng phát triển hệ thống & driver
  </footer>

  <script>
    // Toggle Dark/Light Mode
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    const icon = themeToggle.querySelector('i');

    themeToggle.addEventListener('click', () => {
      if (body.getAttribute('data-theme') === 'dark') {
        body.setAttribute('data-theme', 'light');
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
      } else {
        body.setAttribute('data-theme', 'dark');
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
      }
    });

    // Smooth scroll for sidebar links
    document.querySelectorAll('.sidebar a').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        window.scrollTo({
          top: targetElement.offsetTop - 100,
          behavior: 'smooth'
        });
      });
    });
  </script>
</body>
</html>